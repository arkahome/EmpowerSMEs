{%  extends 'app/main.html' %}

{% block title %} PI Sub Model  {% endblock %}
{% block content %}


<div class="container-fluid px-lg-4">
    <div class='row'>
        <div class="col-md-12 mt-4">
            <div class="card">
                <div class="card-header">
                    <strong>PI Main Model Details</strong>
                </div>
                <div class="card-body">
                  <h5 class="card-title">{{pimodel.model_name}}</h5>
                  <p class="card-text">{{pimodel.description}}</p>
                  <p class="card-text">
                                        <strong>Insourcing ? : </strong> {{pimodel.insourcing_or_not}} &emsp;&emsp;
                                        <strong>Insourcing Code : </strong> {{pimodel.insourcing_code}}</p>
                <!-- <a href="#" class="btn btn-primary pull-right">Create New Sub-Rule</a> -->
                  
                </div>
    </div>
    <div class='row'>
                <div class="col-md-10">

                </div>
                <div class="col-md-2">
                    <a href="{% url 'create_PISubModel' pk=pimodel.model_pk %}" class="btn btn-primary pull-right">Create New Sub-Rule</a>
                </div>
              </div>
            </div>
        </div>
      </div>
    </div>

    <div class='row'>
        <div class="col-md-12 mt-4">
            <div class="card">
                <div class="card-body">
                    <!-- title -->
                    <div class="d-md-flex align-items-center">
                        <div>
                            <h4 class="card-title">PI Model Subrules</h4>
                            <h5 class="card-subtitle">Overview of PI Model Subrules</h5>
                        </div>
                        <div class="ml-auto">
                            <div class="dl">

                                <!-- <select class="custom-select">
                                    <option value="0" selected="">Monthly</option>
                                    <option value="1">Daily</option>
                                    <option value="2">Weekly</option>
                                    <option value="3">Yearly</option>
                                </select> -->
                            </div>
                        </div>
                    </div>
                    <!-- title -->
                </div>
                <div class="mx-3">
                    <table class="displayTable table table-sm" id='myTable'>
                        <thead class='thead-light'>
                            <tr>
                                <th>Sub Model Name</th>
                                <th>Sub Model Description</th>
                                <th>Code Type</th>
                                <th>Code</th>
                                <th>Opportunity Size</th>
                                <th>Insourcing Overlap %</th>
                                <th>Insourcing Commission Saved</th>
                                <th>Insourcing Incremental Savings</th>
                                <th>Last Updated On</th>
                                <th>Last Updated By</th>
                                <th>Select As Main Model</th>
                                <th>Open</th>
                                <th>Update</th>
                                <th>Delete</th>                            
                            </tr>
                        </thead>
                        <tbody>
                            {% for mod in pisubmodel %}
                            <tr>
                                <td>{{mod.sub_model_name}}</td>
                                <td>{{mod.sub_model_description}}</td>
                                <td>{{mod.code_type}}</td>
                                <td>{{mod.code}}</td>
                                <td>{{mod.opportunity_size}}</td>
                                <td>{{mod.insourcing_overlap_perc}}</td>
                                <td>{{mod.insourcing_comm_saved}}</td>
                                <td>{{mod.insourcing_incremental_savings}}</td>
                                <td>{{mod.last_updated_on}}</td>
                                <td>{{mod.last_updated_by}}</td>
                                <td>{{mod.select_as_main_model}}</td>
                                <td><a class="btn btn-sm btn-info" href="{% url 'open_PISubModel' sub_model_pk=mod.sub_model_pk %}">Open</a></td>
                                <td><a class="btn btn-sm btn-warning" href="{% url 'update_PISubModel' sub_model_pk=mod.sub_model_pk %}">Update</a></td>
                                <td><a class="btn btn-sm btn-danger" href="{% url 'delete_PISubModel' model_pk=mod.model_pk_id sub_model_pk=mod.sub_model_pk %}">Delete</a></td>
    
                                <!-- <td><a class="btn btn-sm btn-danger" href="#">Delete</a></td> -->
    
                            </tr>
    
                            {% endfor %}
    
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}